(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6fb8845e"],{"3f67":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h3",{staticClass:"p-4 bottom-shadow shadow"},[t._v("Blog: "+t._s(t.post.title))]),s("div",{staticClass:"px-4 py-2",staticStyle:{"max-height":"600px",overflow:"auto"}},[s("div",{staticClass:"head-post"},[s("div",{staticClass:"mb-3"},[s("span",{staticClass:"text-blue"},[t._v(" "+t._s(t.post.author)+" ")]),s("span",{staticClass:"ml-2 text-gray"},[t._v(" "+t._s(t._f("date")(t.post.createdAt,"DD MMM YYYY"))+" ")])]),s("div",{staticClass:"image"},[t.post.image?s("img",{staticClass:"current-logo",attrs:{src:t.IMAGE_URL+"c_fill,g_center,w_1200/"+t.post.image,alt:t.post.title}}):t._e()]),s("div",{staticClass:"wrap-post-content",domProps:{innerHTML:t.post.content}})])]),s("div",{staticClass:"my-2 mx-4"},[("admin-blog"===t.profile.role||"super-admin"===t.profile.role)&&"pending"===t.post.status||"declined"===t.post.status?s("button",{staticClass:"btn btn-success-outline mr-2",on:{click:function(e){return t.approveOrDecline("approved",t.post.id)}}},[t._v(" Approve & Publish ")]):t._e(),("admin-blog"===t.profile.role||"super-admin"===t.profile.role)&&"pending"===t.post.status||"approved"===t.post.status?s("button",{staticClass:"btn mr-2 btn-danger-outline",on:{click:function(e){return t.approveOrDecline("declined",t.post.id)}}},[t._v(" Decline ")]):t._e(),"normal"===t.profile.role&&"pending"===t.post.status?s("button",{staticClass:"btn mr-2 btn-primary-outline",on:{click:function(e){return t.approveOrDecline("declined",t.post.id)}}},[t._v(" Save as draft ")]):t._e()])])},o=[],n=s("2b0e"),i=s("aa08"),r=s("1881"),l=s.n(r);n["default"].use(l.a);var c={name:"post-info",props:["id"],data(){return{post:{},loadingPost:!1}},mounted(){i["a"].get("blog/info/"+this.id).then(t=>{this.post=t.data.result,this.loadingPost=!1}).catch(t=>{404===t.response.status?this.errorPost=t.response.data.error:this.errorPost="Something went wrong, try again later",n["default"].$toast.open({message:this.errorPost,type:"error"}),this.loadingDirectory=!1,this.loadingPost=!1})},methods:{approveOrDecline(t,e){let s;"approved"===t&&(s={id:e,decision:t}),"declined"===t&&(s={id:e,decision:t}),i["a"].put("blog/approve-decline",s).then(()=>{n["default"].$toast.open({message:"Blog' status has been updated. We are updating company's directory",type:"success"}),setTimeout(()=>{this.$router.go()},2e3)}).catch(()=>{n["default"].$toast.open({message:"Sorry, something went wrong. try again later!",type:"error"})})}}},d=c,p=s("2877"),u=Object(p["a"])(d,a,o,!1,null,null,null);e["a"]=u.exports},"7f61":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAYAAABiS3YzAAAACXBIWXMAAAsSAAALEgHS3X78AAABlklEQVQ4jdWU4W2DMBCFn1EGMCukI9ARYAD/aEYII4QR6AhhhCLVA4QRYIRmBbyBq4ue6YmG9k/6oyehOOb8+d3zGRNjxKMjezjxr6C7rRfGhxxAwWfP6RnABGCIzs6ba9eeGh8EcAJwVNMTgbJBzrkBQBOdnX6EGh8E1KqFHRfOKufEnBRddLbW0EwlS+IZQE9Vt+QEND6ISkRnXwHUatOj8eFCu76g3F2ehqXmHOsYZTHBHfMkKtrytkCNDyXLaahCEqY7JUuUtCh5WkRn5ffAd7e8HUseCEyhSx5XivP1WMDGB6msNT70GdulV4lXqgVPdlht1nFcKAugGEXGpFYZLS/zVEp0tuLBiJInsYUVlCsxZ9rWG7zPOUsUFRUXpbapeShLEHghoKJNAnzh+unWp2z4keUcCG7ZEdqCpHBQeWdeFPnfLy0VnRUfn+nvh5xwdLbh3ETQC6s5UGFhfBiVwsWK9Y3Kqe5EQE/oVZ12QdCeimuKwl2ogu9ZUpk6YdUdA2/ct3u/Cd3YJNn0e/7/+PID+ASoZNbx9oB2dgAAAABJRU5ErkJggg=="},8170:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAUCAYAAACAl21KAAAACXBIWXMAAAsSAAALEgHS3X78AAABAUlEQVQ4ja2UjQ2CMBCFH60LsIKOoCPICDqCjgAj4AisgBuAI7CCrOACNJhHWtPUgkW45NJLH3y517+o73usEZu5DFXLGEABYA/gLhOVcV78AWkMBMBF1bKkFmzNgjAOMlEvVcutnnsEgSwIxx0hlnYCUP605nTC+uJ8QpvTa+TaAXAGkKtaplrnyLyOWvOtiW1FLzbrTCbq5gWNQSy90BYHiNdaACR1IUOwI5NdJeKuEk+dsa1pPe0q0XN0tVUgH9BSyABaA2JA5VKIATVdJYolECa3nxev9Wxx/rXFE8H3iOeGP/POsD7qYx8MYURs3zM/C2I6SnQntNe6JzkoALwBEX2REeifdr0AAAAASUVORK5CYII="},"8afd":function(t,e,s){"use strict";s("caed")},"8f8f":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"page-nav list-inline"},[!t.profile||"normal"!==t.profile.role&&"admin-blog"!==t.profile.role&&"super-admin"!==t.profile.role?t._e():s("li",{class:{"list-inline-item mr-5 list-active":"blog"==t.active,"list-inline-item mr-5":"blog"!=t.active}},[s("router-link",{attrs:{exact:"",to:"/dashboard/content"}},[t._v("Posts")])],1),!t.profile||"normal"!==t.profile.role&&"admin-event"!==t.profile.role&&"super-admin"!==t.profile.role?t._e():s("li",{class:{"list-inline-item mr-5 list-active":"events"==t.active,"list-inline-item mr-5":"events"!=t.active}},[s("router-link",{attrs:{exact:"",to:"/dashboard/content/events"}},[t._v("Events")])],1),!t.profile||"normal"!==t.profile.role&&"admin-job"!==t.profile.role&&"super-admin"!==t.profile.role?t._e():s("li",{class:{"list-inline-item mr-5 list-active":"jobs"==t.active,"list-inline-item mr-5":"jobs"!=t.active}},[s("router-link",{attrs:{exact:"",to:"/dashboard/content/jobs"}},[t._v("Jobs")])],1)])},o=[],n={name:"menu-content",props:["active"],data(){return{user:{},auth:!1}},mounted(){this.user=JSON.parse(localStorage.getItem("profile"))||{},this.auth=localStorage.getItem("isAuth")||!1}},i=n,r=s("2877"),l=Object(r["a"])(i,a,o,!1,null,null,null);e["a"]=l.exports},"9c1c":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a(t.layout,{tag:"component"},[a("div",{staticClass:"page-info px-5 position-relative"},[a("h2",{staticClass:"h2 font-weight-bold"},[t._v("Contents")]),a("MenuContent",{attrs:{active:"events"}}),a("div",{staticClass:"wrap-content-head-btns"},[a("router-link",{staticClass:"btn font-weight-bold btn-primary-outline",attrs:{to:"/dashboard/content/events/new"}},[t._v("Add New Event")])],1)],1),a("div",{staticClass:"dash-container"},[!t.profile||"normal"!==t.profile.role&&"admin-blog"!==t.profile.role&&"super-admin"!==t.profile.role?a("div",{staticClass:"not-allowed"}):a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("Title")]),a("th",{attrs:{scope:"col"}},[t._v("Author")]),a("th",{attrs:{scope:"col"}},[t._v("Category")]),a("th",{attrs:{scope:"col"}},[t._v("Tags")]),a("th",{attrs:{scope:"col"}},[t._v("Date")]),a("th",{attrs:{scope:"col"}},[t._v("Status")]),a("th",{attrs:{scope:"col"}},[t._v("Actions")])])]),t.posts?a("tbody",t._l(t.posts,(function(e,o){return a("tr",{key:o},[a("td",[a("span",{staticClass:"cursor-pointer text-blue",on:{click:function(s){return t.loadPost(e.id)}}},[t._v(" "+t._s(e.title)+" ")])]),a("td",[t._v(t._s(e.author))]),a("td",[t._v(t._s(e.category))]),a("td",t._l(t.convertTagsArray(e.tags),(function(e,s){return a("span",{key:s},[0!==s?a("span",[t._v(",")]):t._e(),t._v(" "+t._s(e)+" ")])})),0),a("td",[t._v(t._s(t._f("date")(e.createdAt,"DD/MM/YYYY")))]),a("td",[a("div",["approved"===e.status?a("span",{staticClass:"status approved"},[t._v(" Published ")]):t._e(),"pending"===e.status?a("span",{staticClass:"status pending"},[t._v(" Pending ")]):t._e(),"draft"===e.status?a("span",{staticClass:"status declined"},[t._v(" Draft ")]):t._e(),"deleted"===e.status?a("span",{staticClass:"status deleted"},[t._v(" Deleted ")]):t._e()])]),a("td",[a("div",{staticClass:"wrap-actions"},["deleted"!==e.status?a("router-link",{attrs:{target:"_blank",to:"/blog/"+e.id}},[a("img",{attrs:{src:s("7f61"),alt:"view"}})]):t._e(),"normal"!==t.profile.role&&"super-admin"!==t.profile.role||"deleted"===e.status?t._e():a("router-link",{attrs:{to:"/dashboard/content/blog/edit/"+e.id}},[a("img",{attrs:{src:s("8170"),alt:"edit"}})]),"deleted"!==e.status?a("button",{on:{click:function(s){return t.deleteRecord(e.id)}}},[a("img",{attrs:{src:s("b32a"),alt:"delete"}})]):t._e()],1)])])})),0):t._e()]),a("modal",{attrs:{name:"openPostInfo",adaptive:!0,scrollable:!0,height:800,width:1100}},[a("PostInfo",{attrs:{id:t.postId}})],1),a("modal",{attrs:{name:"openDeleteRecord",adaptive:!0,scrollable:!0,height:240,width:600}},[a("DeleteModal",{attrs:{url:"blog/delete/"+t.recordId,entity:"blog"}})],1)],1)])],1)},o=[],n=s("aa08"),i=s("8f8f"),r=s("3f67"),l=s("ec05"),c={name:"content",components:{MenuContent:i["a"],PostInfo:r["a"],DeleteModal:l["a"]},data(){return{posts:[],loading:!1,postId:{},recordId:""}},created(){this.loading=!0;let t="blog/all";"normal"===this.profile.role&&this.profile.companyId&&(t="blog/company/"+this.profile.companyId),n["a"].get(t).then(t=>{this.posts=t.data.result,this.loading=!1}).catch(t=>{404===t.response.status||400===t.response.status?this.error="No content yet!":403===t.response.status?(this.error="No companies found at this moment",this.notAllowed=!0):this.error="Something went wrong, try again later",this.loading=!1})},methods:{convertTagsArray(t){const e=t.substring(1,t.length-1).replace(/"/g,"").split(",");return e},loadPost(t){this.postId=t,this.$modal.show("openPostInfo")},deleteRecord(t){this.recordId=t,this.$modal.show("openDeleteRecord")}},computed:{layout(){return this.$route.meta.layout}}},d=c,p=(s("8afd"),s("2877")),u=Object(p["a"])(d,a,o,!1,null,"c3e79c56",null);e["default"]=u.exports},aa08:function(t,e,s){"use strict";var a=s("bc3a"),o=s.n(a);const{VUE_APP_BACKEND_URL:n}=Object({NODE_ENV:"production",VUE_APP_BACKEND_URL:"http://localhost:5000/",BASE_URL:"/"});let i={headers:{authorization:localStorage.token||"","Cache-Control":"no-cache","Access-Control-Allow-Origin":"*","Content-Type":"application/json"}};class r{static post(t,e){return new Promise((s,a)=>o.a.post(`${n}${t}`,e,i).then(t=>{s(t)}).catch(t=>{a(t)}))}static get(t){return new Promise((e,s)=>o.a.get(`${n}${t}`,i).then(t=>{e(t)}).catch(t=>{s(t)}))}static put(t,e){return new Promise((s,a)=>o.a.put(`${n}${t}`,e,i).then(t=>{s(t)}).catch(t=>{a(t)}))}static patch(t,e){return new Promise((s,a)=>o.a.patch(`${n}${t}`,e,i).then(t=>{s(t)}).catch(t=>{a(t)}))}static delete(t){return new Promise((e,s)=>o.a.delete(`${n}${t}`,i).then(t=>{e(t)}).catch(t=>{s(t)}))}}e["a"]=r},b32a:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAUCAYAAACEYr13AAAACXBIWXMAAAsSAAALEgHS3X78AAAA2klEQVQ4je2UwRGCMBREXxwbsAVbwBK4kpstYAlaApaALXDjCi3YAi1Ywnc+BAyBERxvjjtD2En+7k8yszEiwjfYzmqtOQOpN/MArpRShKXTHXTirBV0QkUEHIEDpdzHBgl5YKqdG6BeMd+oQQXEbrFZeR2R+xfoESRBJCFt+ZovIdfGyjezF2hN5niGNanjFdbEYfnUAPbeFiOPx25t0eAj/A1+wmAuzhqWneMa3z4fms5REucN/MyXcvP4xavqGwwGKsqxJoz2O5x0eD0o1uiDMTgvoKGUGuAJ50xilb5BrM8AAAAASUVORK5CYII="},caed:function(t,e,s){},ec05:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h3",{staticClass:"p-4 bottom-shadow shadow"},[t._v("Delete")]),s("div",{staticClass:"p-4"},[t._v("Do you really want to delete this "+t._s(t.entity)+"?")]),s("div",{staticClass:"my-2 mx-4"},[s("span",{staticClass:"float-left"},[s("button",{staticClass:"btn btn-primary-outline mr-2",on:{click:t.closeModal}},[t._v(" Cancel ")]),s("button",{staticClass:"btn btn-danger-outline float-right",on:{click:t.deleteAnyway}},[t._v(" Delete ")])]),s("span",{staticClass:"float-right"},[s("button",{staticClass:"btn btn-gray-outline mr-2",on:{click:t.closeModal}},[t._v(" Close ")])])])])},o=[],n=s("2b0e"),i=s("aa08"),r=s("1881"),l=s.n(r);n["default"].use(l.a);var c={name:"post-info",props:["url","entity"],data(){return{}},methods:{closeModal(){this.$modal.hide("openDeleteRecord")},deleteAnyway(){i["a"].delete(this.url).then(()=>{n["default"].$toast.open({message:this.entity+" has been deleted successfully",type:"success"}),setTimeout(()=>{this.$router.go()},2e3),this.closeModal()}).catch(()=>{n["default"].$toast.open({message:"Sorry, something went wrong. try again later!",type:"error"})})}}},d=c,p=s("2877"),u=Object(p["a"])(d,a,o,!1,null,null,null);e["a"]=u.exports}}]);
//# sourceMappingURL=chunk-6fb8845e.5d8f6e41.js.map