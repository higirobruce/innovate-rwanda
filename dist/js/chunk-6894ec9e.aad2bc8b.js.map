{"version":3,"sources":["webpack:///./src/pages/dashboard/content/blog/new.vue?2330","webpack:///src/pages/dashboard/content/blog/new.vue","webpack:///./src/pages/dashboard/content/blog/new.vue?8727","webpack:///./src/pages/dashboard/content/blog/new.vue","webpack:///./src/pages/dashboard/content/blog/new.vue?30e4"],"names":["render","_vm","this","_h","$createElement","_c","_self","layout","tag","staticClass","_v","attrs","profile","role","post","title","on","$event","saveAsDraft","category","content","publishArticle","_e","created","uploading","directives","name","rawName","value","expression","domProps","target","composing","$set","toobar","editorSettings","model","callback","$$v","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","val","_value","multiple","changeCategory","_l","cat","index","key","_s","tags","newTags","$refs","FileInput","click","ref","staticStyle","onFileSelect","selectedFile","aspectRatio","staticRenderFns","components","MenuContent","VueCropper","VueTagsInput","VueEditor","type","image","status","author","modules","clipboard","matchVisual","categories","mime_type","cropedImage","autoCrop","dialog","files","showOtherCategoryInput","firstName","lastName","methods","e","savePost","getTags","text","JSON","stringify","uploadImage","submitPostNow","AxiosHelper","cropper","getCroppedCanvas","toDataURL","toBlob","formData","FormData","append","blob","config","headers","file","console","log","FileReader","reader","onload","event","result","replace","readAsDataURL","alert","computed","$route","meta","component"],"mappings":"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","file":"js/chunk-6894ec9e.aad2bc8b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c(_vm.layout,{tag:\"component\"},[_c('div',{staticClass:\"page-info px-5 position-relative\"},[_c('h2',{staticClass:\"h2 font-weight-bold\"},[_vm._v(\"Contents\")]),_c('MenuContent',{attrs:{\"active\":\"blog\"}}),(_vm.profile.role === 'normal')?_c('div',{staticClass:\"wrap-content-head-btns\"},[_c('router-link',{staticClass:\"btn font-weight-bol btn-gray-outline\",attrs:{\"to\":'/dashboard/content'}},[_vm._v(\"Cancel\")]),_c('button',{staticClass:\"btn font-weight-bold btn-primary-outline ml-3\",attrs:{\"disabled\":_vm.post.title === ''},on:{\"click\":function($event){return _vm.saveAsDraft('draft')}}},[_vm._v(\" Save as draft \")]),_c('button',{staticClass:\"btn font-weight-bold btn-success-outline ml-3\",attrs:{\"disabled\":_vm.post.title === '' || _vm.post.category === '' || _vm.post.content === ''},on:{\"click\":function($event){return _vm.publishArticle('pending')}}},[_vm._v(\" Publish \")])],1):_vm._e()],1),_c('div',{staticClass:\"dash-container\"},[(_vm.profile.role === 'normal')?_c('div',[_c('h4',{staticClass:\"h5\"},[_c('router-link',{staticClass:\"btn btn-back\",attrs:{\"to\":'/dashboard/content/blog'}},[_c('i',{staticClass:\"icon-arrow-left\"}),_c('span',{staticClass:\"ml-3\"},[_vm._v(\" Back \")])]),_c('span',{staticClass:\"text-blue-dark font-weight-bold\"},[_vm._v(\" New post \")])],1),(!_vm.created && _vm.uploading)?_c('div',{staticClass:\"alert alert-info\"},[_vm._v(\" Wait, we are creating your content... \")]):_vm._e(),(_vm.created && !_vm.uploading)?_c('div',{staticClass:\"alert alert-success\"},[_vm._v(\" Your content has been created successfully! \")]):_vm._e(),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-12 col-md-8 col-l-8\"},[_c('div',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.post.title),expression:\"post.title\"}],staticClass:\"form-control custom-input\",attrs:{\"type\":\"text\",\"required\":\"\",\"placeholder\":\"Post Title\"},domProps:{\"value\":(_vm.post.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.post, \"title\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('vue-editor',{attrs:{\"editorToolbar\":_vm.toobar,\"editorOptions\":_vm.editorSettings},model:{value:(_vm.post.content),callback:function ($$v) {_vm.$set(_vm.post, \"content\", $$v)},expression:\"post.content\"}})],1)]),_c('div',{staticClass:\"col-sm-12 col-md-4 col-l-4\"},[_c('div',{staticClass:\"content-form-sidebar\"},[_c('h3',{staticClass:\"h6\"},[_vm._v(\"Category\")]),_c('div',{staticClass:\"form-group\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.post.category),expression:\"post.category\"}],staticClass:\"form-control form-control-lg\",attrs:{\"name\":\"category\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.post, \"category\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.changeCategory($event)}]}},[_c('option',{attrs:{\"value\":\"\",\"selected\":\"\",\"disabled\":\"\"}},[_vm._v(\"Select category\")]),_vm._l((_vm.categories),function(cat,index){return _c('option',{key:index,domProps:{\"value\":cat.name}},[_vm._v(\" \"+_vm._s(cat.name)+\" \")])}),_c('option',{attrs:{\"value\":\"other\"}},[_vm._v(\"Other category\")])],2)]),(_vm.showOtherCategoryInput)?_c('div',{staticClass:\"form-group\"},[_c('h3',{staticClass:\"h6\"},[_vm._v(\"Specify other category\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.post.category),expression:\"post.category\"}],staticClass:\"form-control custom-input\",attrs:{\"type\":\"text\",\"placeholder\":\"Type category...\"},domProps:{\"value\":(_vm.post.category)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.post, \"category\", $event.target.value)}}})]):_vm._e(),_c('h3',{staticClass:\"h6\"},[_vm._v(\"Tags\")]),_c('vue-tags-input',{attrs:{\"tags\":_vm.tags},on:{\"tags-changed\":function (newTags) { return (_vm.tags = newTags); }},model:{value:(_vm.post.tags),callback:function ($$v) {_vm.$set(_vm.post, \"tags\", $$v)},expression:\"post.tags\"}}),_c('h3',{staticClass:\"h6\"},[_vm._v(\"Featured Image\")]),_c('button',{staticClass:\"btn btn-block\",on:{\"click\":function($event){return _vm.$refs.FileInput.click()}}},[_vm._v(\" Select image \")]),_c('div',{staticClass:\"my-3\"},[_c('input',{ref:\"FileInput\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\"},on:{\"change\":_vm.onFileSelect}}),_c('VueCropper',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.selectedFile),expression:\"selectedFile\"}],ref:\"cropper\",attrs:{\"src\":_vm.selectedFile,\"alt\":\"Source Image\",\"aspectRatio\":_vm.aspectRatio}})],1)],1)])])]):_c('div',{staticClass:\"not-allowed\"})])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <component :is=\"layout\">\n      <div class=\"page-info px-5 position-relative\">\n        <h2 class=\"h2 font-weight-bold\">Contents</h2>\n        <MenuContent active=\"blog\" />\n        <div class=\"wrap-content-head-btns\" v-if=\"profile.role === 'normal'\">\n          <router-link\n            :to=\"'/dashboard/content'\"\n            class=\"btn font-weight-bol btn-gray-outline\"\n            >Cancel</router-link\n          >\n          <button\n            @click=\"saveAsDraft('draft')\"\n            :disabled=\"post.title === ''\"\n            class=\"btn font-weight-bold btn-primary-outline ml-3\"\n          >\n            Save as draft\n          </button>\n          <button\n            @click=\"publishArticle('pending')\"\n            :disabled=\"\n              post.title === '' || post.category === '' || post.content === ''\n            \"\n            class=\"btn font-weight-bold btn-success-outline ml-3\"\n          >\n            Publish\n          </button>\n        </div>\n      </div>\n      <div class=\"dash-container\">\n        <div v-if=\"profile.role === 'normal'\">\n          <h4 class=\"h5\">\n            <router-link :to=\"'/dashboard/content/blog'\" class=\"btn btn-back\">\n              <i class=\"icon-arrow-left\" />\n              <span class=\"ml-3\"> Back </span>\n            </router-link>\n            <span class=\"text-blue-dark font-weight-bold\"> New post </span>\n          </h4>\n          <div class=\"alert alert-info\" v-if=\"!created && uploading\">\n            Wait, we are creating your content...\n          </div>\n          <div class=\"alert alert-success\" v-if=\"created && !uploading\">\n            Your content has been created successfully!\n          </div>\n          <!-- FORM: CREATE BLOG -->\n          <div class=\"row\">\n            <div class=\"col-sm-12 col-md-8 col-l-8\">\n              <div class=\"form-group\">\n                <input\n                  type=\"text\"\n                  v-model=\"post.title\"\n                  required\n                  class=\"form-control custom-input\"\n                  placeholder=\"Post Title\"\n                />\n              </div>\n              <div class=\"form-group\">\n                <vue-editor\n                  :editorToolbar=\"toobar\"\n                  v-model=\"post.content\"\n                  :editorOptions=\"editorSettings\"\n                ></vue-editor>\n              </div>\n            </div>\n            <div class=\"col-sm-12 col-md-4 col-l-4\">\n              <div class=\"content-form-sidebar\">\n                <h3 class=\"h6\">Category</h3>\n                <div class=\"form-group\">\n                  <select\n                    class=\"form-control form-control-lg\"\n                    name=\"category\"\n                    v-model=\"post.category\"\n                    @change=\"changeCategory($event)\"\n                  >\n                    <option value=\"\" selected disabled>Select category</option>\n                    <option\n                      v-for=\"(cat, index) in categories\"\n                      v-bind:value=\"cat.name\"\n                      :key=\"index\"\n                    >\n                      {{ cat.name }}\n                    </option>\n                    <option value=\"other\">Other category</option>\n                  </select>\n                </div>\n                <div class=\"form-group\" v-if=\"showOtherCategoryInput\">\n                  <h3 class=\"h6\">Specify other category</h3>\n                  <input\n                    class=\"form-control custom-input\"\n                    v-model=\"post.category\"\n                    type=\"text\"\n                    placeholder=\"Type category...\"\n                  />\n                </div>\n                <h3 class=\"h6\">Tags</h3>\n                <vue-tags-input\n                  v-model=\"post.tags\"\n                  :tags=\"tags\"\n                  @tags-changed=\"(newTags) => (tags = newTags)\"\n                />\n                <h3 class=\"h6\">Featured Image</h3>\n                <button class=\"btn btn-block\" @click=\"$refs.FileInput.click()\">\n                  Select image\n                </button>\n                <div class=\"my-3\">\n                  <input\n                    ref=\"FileInput\"\n                    type=\"file\"\n                    style=\"display: none\"\n                    @change=\"onFileSelect\"\n                  />\n                  <VueCropper\n                    v-show=\"selectedFile\"\n                    ref=\"cropper\"\n                    :src=\"selectedFile\"\n                    alt=\"Source Image\"\n                    :aspectRatio=\"aspectRatio\"\n                  ></VueCropper>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div v-else class=\"not-allowed\"></div>\n      </div>\n    </component>\n  </div>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport axios from \"axios\";\nimport AxiosHelper from \"@/helpers/AxiosHelper\";\nimport MenuContent from \"@/components/MenuContent\";\nimport VueCropper from \"vue-cropperjs\";\nimport \"cropperjs/dist/cropper.css\";\nimport categories from \"@/data/blogCategories.js\";\nimport VueTagsInput from \"@johmun/vue-tags-input\";\nimport { VueEditor } from \"vue2-editor\";\n\nexport default {\n  name: \"write-blog\",\n  components: {\n    MenuContent,\n    VueCropper,\n    VueTagsInput,\n    VueEditor,\n  },\n  data() {\n    return {\n      post: {\n        title: \"\",\n        content: \"\",\n        type: \"\",\n        image: \"\",\n        status: \"pending\",\n        author: \"\",\n        category: \"\",\n      },\n      toobar: [[\"bold\", \"italic\", \"underline\"]],\n      editorSettings: {\n        modules: {\n          clipboard: {\n            matchVisual: false,\n          },\n        },\n      },\n      tags: [],\n      categories: [],\n      mime_type: \"\",\n      cropedImage: \"\",\n      autoCrop: false,\n      selectedFile: \"\",\n      aspectRatio: 2 / 1,\n      image: \"\",\n      dialog: false,\n      files: \"\",\n      uploading: false,\n      created: false,\n      showOtherCategoryInput: false,\n    };\n  },\n  mounted() {\n    this.categories = categories;\n    this.post.author = `${this.profile.firstName} ${this.profile.lastName}`;\n  },\n  methods: {\n    changeCategory(e) {\n      if (e.target.value === \"other\") {\n        this.showOtherCategoryInput = true;\n        this.post.category = \"\";\n      } else {\n        this.showOtherCategoryInput = false;\n        this.post.category = e.target.value;\n      }\n    },\n    publishArticle(status) {\n      this.savePost(status);\n    },\n    saveAsDraft(status) {\n      this.savePost(status);\n    },\n    savePost(status) {\n      this.post.status = status;\n      this.uploading = true;\n      this.created = false;\n      // convert tags\n      let getTags = [];\n      if (this.tags) {\n        for (const value of this.tags) {\n          getTags = [...getTags, value.text];\n        }\n        this.post.tags = JSON.stringify(getTags);\n      }\n      if (this.selectedFile) {\n        this.uploading = false;\n        this.uploadImage();\n      } else {\n        this.submitPostNow();\n      }\n    },\n    submitPostNow() {\n      AxiosHelper.post(\"blog/post\", this.post)\n        .then(() => {\n          this.created = true;\n          Vue.$toast.open({\n            message: \"Blog has been created successfully\",\n            type: \"success\",\n          });\n          setTimeout(() => {\n            // this.$router.go();\n          }, 4500);\n        })\n        .catch(() => {\n          this.uploading = false;\n          this.created = false;\n          Vue.$toast.open({\n            message:\n              \"Sorry, something went wrong while updating your social media accounts\",\n            type: \"error\",\n          });\n        });\n    },\n    uploadImage() {\n      this.cropedImage = this.$refs.cropper.getCroppedCanvas().toDataURL();\n      this.$refs.cropper.getCroppedCanvas().toBlob((blob) => {\n        const formData = new FormData();\n        formData.append(\"file\", blob);\n        formData.append(\"upload_preset\", \"wjjxv2a4\");\n        formData.append(\"cloud_name\", \"dbvxqoznr\");\n        const config = {\n          headers: { \"X-Requested-With\": \"XMLHttpRequest\" },\n        };\n        axios\n          .post(\n            \"https://api.cloudinary.com/v1_1/dbvxqoznr/image/upload\",\n            formData,\n            config\n          )\n          .then((response) => {\n            // uploaded successfully, continue submiting article then\n            this.post.image = `v${response.data.version}/${response.data.public_id}.${response.data.format}`;\n            this.submitPostNow();\n          })\n          .catch(() => {\n            this.uploading = false;\n            this.created = false;\n          });\n      }, this.mime_type);\n    },\n    onFileSelect(e) {\n      const file = e.target.files[0];\n      this.mime_type = file.type;\n      console.log(this.mime_type);\n      if (typeof FileReader === \"function\") {\n        this.dialog = true;\n        const reader = new FileReader();\n        reader.onload = (event) => {\n          this.selectedFile = event.target.result;\n          this.$refs.cropper.replace(this.selectedFile);\n        };\n        reader.readAsDataURL(file);\n      } else {\n        alert(\"Sorry, FileReader API not supported\");\n      }\n    },\n  },\n  computed: {\n    layout() {\n      return this.$route.meta.layout;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.content-form-sidebar {\n  background: #f0f2f8;\n  padding: 25px;\n  border-radius: 3px;\n}\n.content-form-sidebar button {\n  border: 1px solid #5e7c8d;\n  background: #f0f2f8;\n  border-radius: 3px;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./new.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./new.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./new.vue?vue&type=template&id=aaa1b22c&scoped=true&\"\nimport script from \"./new.vue?vue&type=script&lang=js&\"\nexport * from \"./new.vue?vue&type=script&lang=js&\"\nimport style0 from \"./new.vue?vue&type=style&index=0&id=aaa1b22c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"aaa1b22c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./new.vue?vue&type=style&index=0&id=aaa1b22c&scoped=true&lang=css&\""],"sourceRoot":""}